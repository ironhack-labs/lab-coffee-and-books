const locales = require("../locales/index");

module.exports = (string, timeObject, locale) => {
    let unit = 'milliseconds';
    let reg = locales[locale].constants.millisecond;
    locales[locale].constants.forEach((regex, key) => {
        if(Boolean(string.match(regex))){
            unit = key;
            reg = regex;
        }
    })
    console.log(unit)
    if(unit === 'milliseconds') return string.replace(reg, timeObject.duration);
    if(unit === 'seconds') return string.replace(reg, timeObject.duration/1000);
    if(unit === 'minutes') return string.replace(reg, timeObject.duration/1000/60);
    if(unit === 'hours') return string.replace(reg, timeObject.duration/1000/60/60);
    if(unit === 'days') return string.replace(reg, timeObject.duration/1000/60/60/24);
    if(unit === 'weeks') return string.replace(reg, timeObject.duration/1000/60/60/24/7);
    if(unit === 'months') return string.replace(reg, timeObject.duration/1000/60/60/24/30.44);
    if(unit === 'years') return string.replace(reg, timeObject.duration/1000/60/60/24/365.2425);
}